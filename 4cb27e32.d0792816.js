(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{101:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return b})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return u})),n.d(t,"default",(function(){return i}));var r=n(3),l=n(7),a=(n(0),n(143)),b={id:"authentication-update-user",title:"Update user"},c={unversionedId:"authentication/authentication-update-user",id:"authentication/authentication-update-user",isDocsHomePage:!1,title:"Update user",description:"Perform an UPDATE request to the Authentication endpoint to update the user data.",source:"@site/docs/authentication/update-user.md",slug:"/authentication/authentication-update-user",permalink:"/docs/authentication/authentication-update-user",version:"current",sidebar:"docs",previous:{title:"Get logged-in user",permalink:"/docs/authentication/authentication-get-logged-in-user"},next:{title:"Delete user",permalink:"/docs/authentication/authentication-delete-user"}},u=[{value:"Request data",id:"request-data",children:[{value:"Request Cookie",id:"request-cookie",children:[]},{value:"Request Parameters",id:"request-parameters",children:[]}]},{value:"Response data",id:"response-data",children:[{value:"Error codes",id:"error-codes",children:[]},{value:"Successful response",id:"successful-response",children:[]}]}],o={toc:u};function i(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(a.b)("p",null,"Perform an UPDATE request to the Authentication endpoint to update the user data."),Object(a.b)("p",null,"Only the owner of the data can update it. This mechanism was implemented to prevent other authenticated users from updating other users data."),Object(a.b)("blockquote",null,Object(a.b)("p",{parentName:"blockquote"},"Note that Authentication endpoints are secured by default, so you have to include the Access token in the request.")),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),"// set this property in the request options:\n{ credentials: 'include' } // using fetch\n{ withCredentials: true } // using axios\n")),Object(a.b)("h2",{id:"request-data"},"Request data"),Object(a.b)("p",null,Object(a.b)("em",{parentName:"p"},"HTTP method:")," ",Object(a.b)("inlineCode",{parentName:"p"},"PUT")),Object(a.b)("p",null,"URL format:\nhttps://",Object(a.b)("strong",{parentName:"p"},"baseUrl"),"/",Object(a.b)("strong",{parentName:"p"},"versionNumber"),"/",Object(a.b)("strong",{parentName:"p"},"customEndpointRoute"),"/",Object(a.b)("strong",{parentName:"p"},"userEndpoint"),"?key=",Object(a.b)("strong",{parentName:"p"},"apiKey"),"&uniqueId=",Object(a.b)("strong",{parentName:"p"},"uniqueId"),"[&",Object(a.b)("strong",{parentName:"p"},"dataOnly"),"=true]"),Object(a.b)("p",null,"Example:"),Object(a.b)("p",null,"https://",Object(a.b)("strong",{parentName:"p"},"app.yawe.dev/api"),"/",Object(a.b)("strong",{parentName:"p"},"1"),"/",Object(a.b)("strong",{parentName:"p"},"ce"),"/",Object(a.b)("strong",{parentName:"p"},"examples/auth"),"?key=",Object(a.b)("strong",{parentName:"p"},"d59eb2859c284168ac48aef65046d5dd"),"&uniqueId=lhgsdfisgdifgsiy47f7s47f","[&",Object(a.b)("strong",{parentName:"p"},"dataOnly"),"=true]"),Object(a.b)("h3",{id:"request-cookie"},"Request Cookie"),Object(a.b)("table",null,Object(a.b)("tr",null,Object(a.b)("td",null,"Header"),Object(a.b)("td",null,"Required"),Object(a.b)("td",null,"Description")),Object(a.b)("tr",null,Object(a.b)("td",null,"yawe_access_token"),Object(a.b)("td",null,"Yes"),Object(a.b)("td",null,"This token is obtained when doing a login. To automatically include it in the request you need to set the following property:",Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"})," // using fetch\n{ credentials: 'include' }\n\n// using axios\n{ withCredentials: true }\n"))))),Object(a.b)("h3",{id:"request-parameters"},"Request Parameters"),Object(a.b)("p",null,"The following table describes the Request parameters."),Object(a.b)("table",null,Object(a.b)("tr",null,Object(a.b)("td",null,"Parameter"),Object(a.b)("td",null,"Description"),Object(a.b)("td",null,"Required")),Object(a.b)("tr",null,Object(a.b)("td",null,"baseUrl"),Object(a.b)("td",null,"Base url for calling the API.",Object(a.b)("p",null,"Value: app.yawe.dev/api")),Object(a.b)("td",null,"Yes")),Object(a.b)("tr",null,Object(a.b)("td",null,"versionNumber"),Object(a.b)("td",null,"Service version.",Object(a.b)("p",null,"Value: The current value is 1.")),Object(a.b)("td",null,"Yes")),Object(a.b)("tr",null,Object(a.b)("td",null,"customEndpointRoute"),Object(a.b)("td",null,"The route which identifies custom endpoints.",Object(a.b)("p",null,"Default value: ce")),Object(a.b)("td",null,"Yes")),Object(a.b)("tr",null,Object(a.b)("td",null,"userEndpoint"),Object(a.b)("td",null,"The endpoint name generated by the user.",Object(a.b)("p",null,"Value: the name created at ",Object(a.b)("a",{href:"https://app.yawe.dev"},Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://app.yawe.dev"}),"https://app.yawe.dev")))),Object(a.b)("td",null,"Yes")),Object(a.b)("tr",null,Object(a.b)("td",null,"key"),Object(a.b)("td",null,"The API Key of the project."),Object(a.b)("td",null,"Yes")),Object(a.b)("tr",null,Object(a.b)("td",null,"uniqueId"),Object(a.b)("td",null,"The identifier of the record to be updated."),Object(a.b)("td",null,"Yes")),Object(a.b)("tr",null,Object(a.b)("td",null,"dataOnly"),Object(a.b)("td",null,"If used, the endpoint response will be the POST body, without additional information such as \u2018uniqueId\u2019.",Object(a.b)("p",null,"Value: true")),Object(a.b)("td",null,"No")),Object(a.b)("tr",null,Object(a.b)("td",null,"masterKey"),Object(a.b)("td",null,"Overrides the need for ",Object(a.b)("i",null,"Access tokens")," or restrictions applied to Authentication endpoints.",Object(a.b)("p",null,"Don't use this key in your client application."),Object(a.b)("p",null,"For more information please refer to ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/getting-started/projects"}),"projects"),"."),Object(a.b)("p",null,"Value: the masterKey created at ",Object(a.b)("a",{href:"https://app.yawe.dev"},Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"https://app.yawe.dev"}),"https://app.yawe.dev")),".")),Object(a.b)("td",null,"No")),Object(a.b)("tr",null,Object(a.b)("td",null,"strategy"),Object(a.b)("td",null,"A strategy allows you to choose how the data is updated.",Object(a.b)("br",null),Object(a.b)("br",null),Object(a.b)("i",null,"Values:"),Object(a.b)("br",null),Object(a.b)("ul",null,Object(a.b)("li",null,Object(a.b)("b",null,"force")," - (default) replaces the content regardless of the type."),Object(a.b)("li",null,Object(a.b)("b",null,"merge")," - merges objects, it only works with JSON."),Object(a.b)("li",null,Object(a.b)("b",null,"replace")," - replaces the entire content, types must be the same.")),"Remember that, in authentication endpoints, ",Object(a.b)("b",null,"username and password")," are required fields. If after the update these values are not present the endpoint will return an error."),Object(a.b)("td",null,"No"))),Object(a.b)("h2",{id:"response-data"},"Response data"),Object(a.b)("h3",{id:"error-codes"},"Error codes"),Object(a.b)("table",null,Object(a.b)("tr",null,Object(a.b)("td",null,"Error code"),Object(a.b)("td",null,"Description")),Object(a.b)("tr",null,Object(a.b)("td",null,"400"),Object(a.b)("td",null,"Possible reasons:",Object(a.b)("ul",null,Object(a.b)("li",null,"Endpoint or API Key not valid."),Object(a.b)("li",null,'Wrong Content-Type, it only accepts "text/plain" or "application/json".'),Object(a.b)("li",null,"Empty Request body."),Object(a.b)("li",null,"uniqueId is not present in the URL."),Object(a.b)("li",null,"No record was found."),Object(a.b)("li",null,Object(a.b)("strong",null,"username")," or ",Object(a.b)("strong",null,"password")," are not present in the request body."),Object(a.b)("li",null,"User is not the owner of the data.")))),Object(a.b)("tr",null,Object(a.b)("td",null,"401"),Object(a.b)("td",null,"Possible reasons:",Object(a.b)("ul",null,Object(a.b)("li",null,"Missing Access Token."),Object(a.b)("li",null,"Invalid credentials."),Object(a.b)("li",null,"Token expired."),Object(a.b)("li",null,"No user found.")))),Object(a.b)("tr",null,Object(a.b)("td",null,"403"),Object(a.b)("td",null,"Missing API Key, not allowed origin or disallowed request without orign."))),Object(a.b)("h3",{id:"successful-response"},"Successful response"),Object(a.b)("p",null,"The new data in the record."),Object(a.b)("p",null,"Example:"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-javascript"}),'{\nuniqueId: "3f38bf9e1bb54d2396d1f1b8fbba1630",\ndata: { username: "usernameeee" },\ncreatedAt: "2020-12-27T10:58:45.000Z",\nupdatedAt: "2020-12-27T10:58:45.000Z"\n}\n')))}i.isMDXComponent=!0},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return O}));var r=n(0),l=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var o=l.a.createContext({}),i=function(e){var t=l.a.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=i(e.components);return l.a.createElement(o.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return l.a.createElement(l.a.Fragment,{},t)}},p=l.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,b=e.parentName,o=u(e,["components","mdxType","originalType","parentName"]),s=i(n),p=r,O=s["".concat(b,".").concat(p)]||s[p]||d[p]||a;return n?l.a.createElement(O,c(c({ref:t},o),{},{components:n})):l.a.createElement(O,c({ref:t},o))}));function O(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,b=new Array(a);b[0]=p;var c={};for(var u in t)hasOwnProperty.call(t,u)&&(c[u]=t[u]);c.originalType=e,c.mdxType="string"==typeof e?e:r,b[1]=c;for(var o=2;o<a;o++)b[o]=n[o];return l.a.createElement.apply(null,b)}return l.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);